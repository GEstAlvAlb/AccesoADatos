import java.sql.SQLException;

import com.mysql.cj.util.Util;

public class Controlador {

	private Modelo modelo;
	private Vista vista;

	public Controlador(Modelo modelo, Vista vista) {
		this.modelo = modelo;
		this.vista = vista;

		try {
			modelo.conectar();
		} catch (ClassNotFoundException e) {
			e.printStackTrace();
		} catch (SQLException e) {
			e.printStackTrace();
		}
		iniciarSesion();
	}

	private void iniciarSesion() {
		boolean autenticado = false;
		
		do {
			Login login = new Login();
			String usuario = login.getUsuario();
			String contrasena = login.getContrasena();

			try {
				autenticado = modelo.inicaiarSesion(usuario, contrasena);
				if(!autenticado) {
					continue;
					
					Util.mensajeInformacion("Has iniciado sesion");
				}

			} catch (SQLException sqle) {

			}
		}while(!autenticado);
	}

}